{
   "settings": {
      "analysis": {
         "filter": {
            "nGram_filter": {
               "type": "nGram",
               "min_gram": 1,
               "max_gram": 20,
               "token_chars": [
                  "letter",
                  "digit",
                  "punctuation",
                  "symbol"
               ]
            }
         },
         "analyzer": {
            "nGram_analyzer": {
               "type": "custom",
               "tokenizer": "whitespace",
               "filter": [
                  "lowercase",
                  "asciifolding",
                  "nGram_filter"
               ]
            },
            "whitespace_analyzer": {
               "type": "custom",
               "tokenizer": "whitespace",
               "filter": [
                  "lowercase",
                  "asciifolding"
               ]
            }
         }
      }
   },
   "mappings": {
      "contacts": {
        "properties" : {
          "fn" : {
            "type": "string",
            "index_analyzer": "nGram_analyzer",
            "search_analyzer": "whitespace_analyzer",
			      "fields": {
			   	    "sort": {
			   	      "type": "string",
			   	      "index": "not_analyzed"
		   		    }
	   		   }
         },
         "name": {
            "type": "string",
            "index_analyzer": "nGram_analyzer",
            "search_analyzer": "whitespace_analyzer"
         },
         "firstName" : {
            "type": "string",
            "index_analyzer": "nGram_analyzer",
            "search_analyzer": "whitespace_analyzer"
         },
         "lastName" : {
            "type": "string",
            "index_analyzer": "nGram_analyzer",
            "search_analyzer": "whitespace_analyzer"
         },
         "emails" : {
           "properties": {
             "type": {"type": "string", "index": "no"},
             "value": {
               "type": "string",
               "index_analyzer": "nGram_analyzer",
               "search_analyzer": "whitespace_analyzer"
             }
           }
         },
         "tel" : {
           "properties": {
             "type": {"type": "string", "index": "no"},
             "value": {
               "type": "string",
               "index_analyzer": "nGram_analyzer",
               "search_analyzer": "whitespace_analyzer"
             }
           }
         },
         "org" : {
            "type": "string",
            "index_analyzer": "nGram_analyzer",
            "search_analyzer": "whitespace_analyzer"
         },
         "job" : {
            "type": "string",
            "index_analyzer": "nGram_analyzer",
            "search_analyzer": "whitespace_analyzer"
         },
         "urls" : {
           "properties": {
             "type": {"type": "string", "index": "no"},
             "value": {
               "type": "string",
               "index_analyzer": "nGram_analyzer",
               "search_analyzer": "whitespace_analyzer"
             }
           }
         },
         "tags" : {
           "properties": {
             "text": {
               "type": "string",
               "index_analyzer": "nGram_analyzer",
               "search_analyzer": "whitespace_analyzer"
             }
           }
         },
         "socialprofiles" : {
           "properties": {
             "type": {"type": "string", "index": "no"},
             "value": {
               "type": "string",
               "index_analyzer": "nGram_analyzer",
               "search_analyzer": "whitespace_analyzer"
             }
           }
         },
         "nickname" : {
            "type": "string",
            "index_analyzer": "nGram_analyzer",
            "search_analyzer": "whitespace_analyzer"
         },
         "birthday" : {
            "type": "string",
            "index_analyzer": "nGram_analyzer",
            "search_analyzer": "whitespace_analyzer"
         },
         "comments" : {
            "type": "string",
            "index_analyzer": "nGram_analyzer",
            "search_analyzer": "whitespace_analyzer"
         },
         "addresses" : {
           "properties": {
             "full": {
               "type": "string",
               "index_analyzer": "nGram_analyzer",
               "search_analyzer": "whitespace_analyzer"
             },
             "type": {"type": "string", "index": "no"},
             "street": {
               "type": "string",
               "index_analyzer": "nGram_analyzer",
               "search_analyzer": "whitespace_analyzer"
             },
             "city": {
               "type": "string",
               "index_analyzer": "nGram_analyzer",
               "search_analyzer": "whitespace_analyzer"
             },
             "zip": {
               "type": "string",
               "index_analyzer": "nGram_analyzer",
               "search_analyzer": "whitespace_analyzer"
             },
             "country": {
               "type": "string",
               "index_analyzer": "nGram_analyzer",
               "search_analyzer": "whitespace_analyzer"
             }
           }
         }
       }
     }
   }
}
